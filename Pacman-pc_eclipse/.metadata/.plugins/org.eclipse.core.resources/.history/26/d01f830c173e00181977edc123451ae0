package group23.pacman.view;

import group23.pacman.MainApp;
import javafx.fxml.FXML;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.KeyCode;
import javafx.scene.input.KeyEvent;


public class CharacterSelectController {

	@FXML
	private ImageView background;
	@FXML
	private ImageView ghost1;
	@FXML
	private ImageView ghost2;
	@FXML
	private ImageView ghost3;
	@FXML
	private ImageView ghost4;
	
	private MainApp mainApp;
	
	private int ghostIndex;
	
	private int players;
	
	private int player2;
	private int player3;
	
	
	private static final int SPRITE_HEIGHT = 150;
	private static final int SPRITE_WIDTH = 150;
	
	
	public CharacterSelectController() {
		
		
	}
	
	@FXML
	private void handleButton(KeyEvent event) {
		
		if (event.getCode() == KeyCode.ENTER) {
			
			if (players == 1) {
				mainApp.setPlayer2(player2);
			}
			else {
				
				mainApp.setPlayer2(player2);
				mainApp.setPlayer3(player3);
			}
		}
		
		else if (event.getCode() == KeyCode.LEFT) {
			
			ghostIndex--;
			ghostIndex = ghostIndex < 1 ? 1 : ghostIndex;
		}
		
		else if (event.getCode() == KeyCode.RIGHT) {
			
			ghostIndex++;
			ghostIndex = ghostIndex > 4 ? MAX_GHOSTS : ghostIndex;
		}
		
	}
	
	
	@FXML
	private void initialize() {
		
		background.setImage(new Image("bg/blackbg.png"));
		ghost1.setImage(new Image("assets/Elements-CharSel/ghost1-highlighted.png",SPRITE_WIDTH,SPRITE_HEIGHT,false,false));
		ghost2.setImage(new Image("assets/Elements-CharSel/ghost2.png",SPRITE_WIDTH,SPRITE_HEIGHT,false,false));
		ghost3.setImage(new Image("assets/Elements-CharSel/ghost3.png",SPRITE_WIDTH,SPRITE_HEIGHT,false,false));
		ghost4.setImage(new Image("assets/Elements-CharSel/ghost4.png",SPRITE_WIDTH,SPRITE_HEIGHT,false,false));
		
		ghostIndex = 1;
	}
	
	private void highlightGhost() {
		
		if (ghostIndex == 1) {
			
		}
		else if (ghostIndex == 2) {
			
		}
		else if (ghostIndex == 3) {
					
		}
		else if (ghostIndex == 4) {
			
		}
	}
	
	public void setPlayers(int players) {
		
		this.players = players;
	}
	
	public void setMainApp(MainApp mainApp) {
		
		this.mainApp = mainApp;
	}
}
