package group23.pacman.view;

import group23.pacman.MainApp;
import javafx.application.Platform;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.KeyCode;
import javafx.scene.input.KeyEvent;

public class LevelSelectController {
	
	private MainApp mainApp;
	private static final int MAX_BACKGROUND_INDEX = 1;
	
	@FXML
	private ImageView levelImage;
	

	
	private int index;
	private Image seaBackground;
	private Image desertBackground;
	
	
	public LevelSelectController() {
		
		index = 0;
		seaBackground = new Image("bg/background-sea_game.png");
		desertBackground = new Image("bg/background-desert_game.png");
	}
	
	
	@FXML
	private void initialize() {
		
		levelImage.setImage(desertBackground);
	}
	

	@FXML
	private void handleImageScroll(ActionEvent event) {
		
		if (event.getCode() == KeyCode.RIGHT) {
			index++;
			index = (index > MAX_BACKGROUND_INDEX) ? 0 : index;
		}
		
		else if (event.getCode() == KeyCode.LEFT) {
			index--;
			index = (index < 0) ? MAX_BACKGROUND_INDEX : index;
		}
		
		switch (index) {
			case 0 :
				levelImage.setImage(seaBackground);
			case 1 :
				levelImage.setImage(desertBackground);
			default :
				levelImage.setImage(seaBackground);
		}
	}
	
//	@FXML
//	private void handleImageScroll(KeyEvent event) {
//		
//		if (event.getCode() == KeyCode.RIGHT) {
//			index++;
//			index = (index > MAX_BACKGROUND_INDEX) ? 0 : index;
//		}
//		
//		else if (event.getCode() == KeyCode.LEFT) {
//			index--;
//			index = (index < 0) ? MAX_BACKGROUND_INDEX : index;
//		}
//		
//		switch (index) {
//			case 0 :
//				levelImage.setImage(seaBackground);
//			case 1 :
//				levelImage.setImage(desertBackground);
//			default :
//				levelImage.setImage(seaBackground);
//		}
//	}
//	
	
	public void setMainApp(MainApp mainApp) {
		this.mainApp = mainApp;
	}
}
