package group23.pacman.view;

import group23.pacman.MainApp;
import javafx.event.EventHandler;
import javafx.fxml.FXML;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.KeyCode;
import javafx.scene.input.KeyEvent;

public class ResultsController {
	
	private MainApp mainApp;
	
	/* FXML */
	@FXML
	private ImageView background;
	@FXML
	private ImageView life_multiplier;
	@FXML
	private ImageView time_multiplier;
	
	/* Show these variables to the screen */
	private int time;
	private int lives;
	private int score;
	private int totalScore;
	
	
	/* Constructor */
	public ResultsController() {
		
	}
	
	
	public void addKeyListener() {
		
		mainApp.getScene().setOnKeyPressed(new EventHandler<KeyEvent> (){
	    	@Override
	    	public void handle(KeyEvent event) {
		    	if (event.getCode() == KeyCode.ESCAPE) {
		    		mainApp.showWelcomeScreen();
		    	}
		    	else if (event.getCode() == KeyCode.ENTER) {
		    		mainApp.showLevelSelect();
		    	}
	    	}
	    });
	}
	
	
	public void addParameters(int time,int lives,int score) {
		
		this.time = time;
		this.lives = lives;
		this.score = score;
		
		this.totalScore = (time * 10) + (lives * 150) + score;
		
	}
	
	
	public void showScore() {
		
		lives_remaining.setImage(new Image(""))
	}
	
	
	@FXML
	private void initialize() {
		
		background.setImage(new Image("bg/background-results.png"));
		life_multiplier.setImage(new Image("assets/misc/life_multiplier.png"));
		time_multiplier.setImage(new Image("assets/misc/time_multiplier.png"));
	}
	
	
	/* Public setter to reference main app */
	public void setMainApp(MainApp mainApp) {
		
		this.mainApp = mainApp;
	}
}
